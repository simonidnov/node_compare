var express=require("express"),validation=express.Router(),Auth_model=require("../models/auth_model");validation.use(function(b,a,c){a.setHeader("Access-Control-Allow-Origin","*");a.setHeader("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept");a.setHeader("Access-Control-Allow-Methods","GET, PUT, POST, DELETE");c()});
validation.get("/",function(b,a,c){a.render("validation",{title:"Validation",infos:{},js:[],css:[]});a.end()}).get("/account/:email/:validation_code",function(b,a,c){Auth_model.validAccount(b,b.params,function(b){b.message=200===b.status?"F\u00e9licitations, votre compte \u00e0 bien \u00e9t\u00e9 valid\u00e9 !":"la cl\u00e9 de validation de votre compte Joyvox est p\u00e9rim\u00e9e, veuillez vous connecter pour recevoir un nouveau lien.";a.status(200).render("validation",{title:"Validation",infos:b,
js:[],css:[]});a.end()})});module.exports=validation;
