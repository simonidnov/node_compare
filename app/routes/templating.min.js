const express=require("express"),_und=require("underscore"),templating=express.Router(),Auth_controller=require("../controllers/auth_controller"),language_helper=require("../helpers/languages_helper"),uri_helper=require("../helpers/uri_helper"),lang=require("../public/languages/auth_lang"),machineId=require("node-machine-id");var device_uid=machineId.machineIdSync({original:!0});templating.use(function(e,r,t){r.setHeader("Access-Control-Allow-Origin","*"),r.setHeader("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept, authorization"),r.setHeader("Access-Control-Allow-Methods","GET,POST,DELETE,PUT,OPTIONS");e.query;"PUT"!==e.method&&"POST"!==e.method&&"DELETE"!==e.method||e.body,t()}),templating.get("/:template",function(e,r,t){var l={locale:language_helper.getlocale(e),lang:lang,query:e.query,_:_und};void 0!==e.session.Auth&&(l.user=e.session.Auth,void 0!==e.query.member_id&&(l.member=_und.where(l.user.members,{_id:e.query.member_id})[0])),r.render("templates/"+e.params.template,l)}),module.exports=templating;