"use strict";$(function(){index.init()});var index={user:null,sdk:null,init:function(){this.set_hornav(),this.sdk=new idkids_jssdk({secret:"000-000-000",callback_url:window.location.origin+"/account/",authorisation:{email:!0,mobile:!0,friends:!0,profile:!0,members:!0,address:!0,services:!0,wallet:!0,basket:!0,orders:!0,loyalty_card:!0}},function(e,s){});var e=this;this.sdk.init($.proxy(function(e){this.sdk.isLogged($.proxy(function(e){this.sdk.api.get("/me",{},function(e){console.log("/me :::: ",e.datas),$(".icon-account_1").replaceWith('<div class="avatar sm"><img src="'+e.datas.avatar+'" alt="avatar"/></div>'),$(".account_infos .avatar img").attr("src",e.datas.avatar),$(".account_infos .infos .label").html(e.datas.pseudo),$(".account_infos .infos .email").html(e.datas.email)})},this))},this)),$("[data-navigate]").off("click").on("click",function(s){s.preventDefault();var t=$(this).attr("data-navigate");switch(t){case"page_reload":window.history.pushState({pageTitle:$(this).attr("title")},"",e.add_params($(this).attr("href"))),e.navigate();break;default:console.log("default ",t)}}),window.addEventListener("popstate",this.navigate)},navigate:function(){var e=this.parse_url(window.location.pathname),s=Object.keys(e),t=s[1];"undefined"!=typeof e[t]&&(t=e[t]),$("[data-for]").removeClass("selected"),$('[data-for="'+t+'"]').addClass("selected"),$.each($("[data-for]"),function(e,s){$("#"+$(this).attr("data-for")).css("display","none")}),$("#"+t).css("display","block"),$("html, body").animate({scrollTop:0},500,"swing",function(){}),this.set_hornav()},set_hornav:function(){$(".hor_nav li.selected").length>0&&$(".hor_nav").animate({scrollLeft:$(".hor_nav li.selected").position().left+$(".hor_nav").scrollLeft()-50},500)},parse_url:function(e){for(var s=[],t=e.split("/"),r=1;r<t.length;r+=2)s.push({}),s[t[r]]=t[r+1];return s},add_params:function(e){return e}};