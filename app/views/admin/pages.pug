extends admin_header
block content
    div.admin
        div.shutter
            a.shutter_action(href="/admin/pages/new_page" title="ajouter une application")
                span.icon.icon-more.idkids-icons
                div.label Nouvelle Page
            h3 Liste des pages
            ul.app_list
                each page in pages
                    a(href="/admin/pages/edit_page/"+page._id title="éditer la page")
                        li
                            div.label= page.label
        div#pages.container(style= page === "pages" ? "display:block" : "display:none")
            div.article
                div.col.col-md-6
                    h1 Qu'est ce qu'une page
                    p Les pages sont des outils de communication que vous pouvez requêter depuis l'API idkids.
                    h2 Pourquoi créer des pages
                    p Les pages sont principalement utilisées sur l'account, cependant les sites reconnus par le SDK peuvent requêter différents contenus directement via l'API. des pages telles que les mentions légales peuvent ainsi être diffusées par les applications et sont mises à jour une seule fois pour l'ensemble des apps intégrant le SDK IDKIDS
                    h2 Comment requêter une page
                    p après avoir intégré le SDK sur votgre site, vous pouvez requêter des pages soit côté client avec un appel XHTML classique, soit côté serveur en vous appuyant sur la technologie que vous utilisez par exemple en CURL.
                div.col.col-md-3
                    h2 Dernières mises à jour
                    code
                        xmp.
                          <?xml version=«1.0» encoding=«UTF-8» ?>
                          <OrdersList>
                            <SendOrder date=«1486019811» nomber=«63723» price_sum=«6940» weight_sum=«800»>
                              <UserInfo>
                                <family>Громович</family>
                                <name>Алексей</name>
                                <patronymic>Алексеевич</patronymic>
                                <phone>79252458485</phone>
                                <email>grmvch@gmail.com</email>
                              </UserInfo>
                              <Delivery>
                                <transport_companies>4</transport_companies>
                                <city_id>0a7e138b-7c55-4745-8a75-0441df4d3432</city_id>
                                <delivery_points_id>900305</delivery_points_id>
                                <price_delivery>400</price_delivery>
                              </Delivery>
                              <Commentary></Commentary>
                              <Items>
                                <Item article_product=«00122000» title=«Сноубордический рюкзак DAKINE HELI PRO 20L BOZEMAN» count=«1» price=«6940»/>
                              </Items>
                            </SendOrder>
                          </OrdersList>
                    code.script
                        xmp.
                            for(var i =0; i<8 i++){
                                console.log(i);
                            }
        div.container(style= page === "new_page" ? "display:block" : "display:none")
            div.col.col-md-6
              div.formular.fullscreen#create_page
                  h1 Créer une page
                  br
                  form.form_content(method="POST" action='/api/pages')
                    div.form-group.material_input.minlength
                        input#label(type="text" name="label" minlength="4" required)
                        label(for="label") Label * uniq
                    div.form-group.material_input.minlength
                        textarea#description(type="text" name="description" maxlength="255" minlength="75" required)
                        label(for="description") description (255 max char)
                    div.form-group.material_input.minlength
                        input#keywords(type="text" name="keywords" maxlength="75" minlength="25" required)
                        label(for="keywords") keywords (75 max char)
                    div.form-group
                        div.btn.btn-success.btn-lg(data-action="submit") Ajouter
        div.container(style= page === "edit_page" ? "display:block" : "display:none")
            div.col.col-md-12
              div.pager#pager_interface
            div.col.col-md-6
              div.formular.fullscreen#edit_page
                h1 Éditer la page
                br
                if(typeof edit_page !== "undefined")
                  form.form_content(method="PUT" action='/api/pages' data-id=edit_page._id)
                    input#_id.invisible(type="text" name="_id" value=edit_page._id)
                    div.form-group.material_input.minlength
                        input#label(type="text" name="label" minlength="4" value=edit_page.label required)
                        label(for="label") Label * uniq
                    div.form-group.material_input.minlength
                        textarea#description(type="text" name="description" maxlength="255" minlength="75" value=edit_page.description required)= edit_page.description
                        label(for="description") description (255 max char)
                    div.form-group.material_input.minlength
                        input#keywords(type="text" name="keywords" maxlength="75" minlength="25" value=edit_page.keywords required)
                        label(for="keywords") keywords (75 max char)
                    div.form-group.buttons.inline
                        div.btn.btn-success.btn-lg(data-action="submit") Enregistrer
                        div.btn.btn-danger.btn-lg(data-action="delete") Supprimer
