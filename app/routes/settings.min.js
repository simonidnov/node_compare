var express=require("express"),settings=express.Router(),Settings_model=require("../models/settings_model"),Auth_helper=require("../helpers/auth_helper"),language_helper=require("../helpers/languages_helper"),uri_helper=require("../helpers/uri_helper"),lang=require("../public/languages/auth_lang");settings.use(function(e,t,s){t.setHeader("Access-Control-Allow-Origin","*"),t.setHeader("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),t.setHeader("Access-Control-Allow-Methods","GET, PUT, POST, DELETE"),Auth_helper.validate_session(e,function(e){200===e.status?s():t.redirect(301,"/auth")})}),settings.get("/",function(e,t,s){Settings_model.get(e,t,function(e){t.status(e.status).send(e)})}).put("/",function(e,t,s){Settings_model.update(e,e.body,function(e){t.status(e.status).send(e)})}),module.exports=settings;