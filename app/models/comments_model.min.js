const db=require("mongoose"),config=require("../config/config"),comments_datas={label:{type:"string",unique:!0},description:{type:"string"},content:{type:"string"},user_id:{type:"string"},is_response:{type:"bool"},comment_id:{type:"string"},page_url:{type:"string"},stars:{type:"integer"},is_valid:{type:"bool"},created:{type:"Date",default:"Date.now"},updated:{type:"Date",default:"Date.now"}};0===db.connection.readyState&&db.connect(config.database.users,{useMongoClient:!0});const commentsSchemas=new db.Schema(comments_datas),Comments=db.model("Comments",commentsSchemas);module.exports={attributes:comments_datas},module.exports.get=function(e,t,s){var n={page_url:t};Comments.find(n,function(e,t){s(e?{status:405,datas:e}:{status:200,datas:t})})},module.exports.create=function(e,t,s){new_product=new Products(t),new_product.save(function(e,t){s(e?{status:405,message:e}:{status:200,datas:t})})},module.exports.update=function(e,t,s,n){delete s.options,delete s._id,s.updated=Date.now(),Products.updateOne({_id:t,user_id:e},{$set:s},function(e,t){n(e?{status:304,message:e}:{status:200,pages:t})})},module.exports.deleting=function(e,t,s){Products.deleteOne({_id:t,user_id:e},function(e,t){s(e?{status:405,message:e}:{status:200,pages:t})})};