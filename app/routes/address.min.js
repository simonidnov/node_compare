var express=require("express"),_=require("underscore"),address=express.Router(),Address_controller=require("../controllers/address_controller"),Auth_helper=require("../helpers/auth_helper"),language_helper=require("../helpers/languages_helper"),uri_helper=require("../helpers/uri_helper"),lang=require("../public/languages/auth_lang");address.use(function(e,t,a){t.setHeader("Access-Control-Allow-Origin","*"),t.setHeader("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),t.setHeader("Access-Control-Allow-Methods","GET, PUT, POST, DELETE"),Auth_helper.validate_session(e,function(e){200===e.status?a():t.redirect(301,"/auth")})}),address.get("/",function(e,t,a){Address_controller.get(e,t,function(a){t.redirect(301,"/account/informations"+e.url.replace("/",""))})}).post("/",function(e,t,a){Address_controller.create(e,t,function(a){t.redirect(301,"/account/informations"+e.url.replace("/",""))})}).put("/",function(e,t,a){Address_controller.update(e,t,function(a){t.redirect(301,"/account/informations"+e.url.replace("/",""))})})["delete"]("/",function(e,t,a){Address_controller["delete"](e,function(a){t.redirect(301,"/account/informations"+e.url.replace("/",""))})}),module.exports=address;