"use strict";$(function(){index.init()});var index={user:null,sdk:null,init:function(){this.set_hornav(),this.sdk=new idkids_jssdk({secret:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzZWNyZXQiOiI1YTMwZGViZmYzNjViMzBhZmQ3ODY4OWMiLCJpYXQiOjE1MTMxNTgxODV9.8e9JhLtcpzf8hO2CguRuUINBpLWOOClx_-3GfFoVqcM",callback_url:window.location.origin+"/redirect/",authorisation:{email:!0,mobile:!0,friends:!0,profile:!0,members:!0,address:!0,services:!0,wallet:!0,basket:!0,orders:!0,loyalty_card:!0}},function(e,t){});var e=this;this.sdk.init($.proxy(function(e){this.sdk.isLogged($.proxy(function(e){this.sdk.api.get("/me",{},function(e){console.log("/me :::: ",e.datas),$(".icon-account_1").replaceWith('<div class="avatar sm"><img src="'+e.datas.avatar+'" alt="avatar"/></div>'),$(".account_infos .avatar img").attr("src",e.datas.avatar),$(".account_infos .infos .label").html(e.datas.pseudo),$(".account_infos .infos .email").html(e.datas.email)})},this))},this)),$("[data-navigate]").off("click").on("click",function(t){t.preventDefault();var a=$(this).attr("data-navigate");switch(a){case"page_reload":window.history.pushState({pageTitle:$(this).attr("title")},"",e.add_params($(this).attr("href"))),e.navigate();break;default:console.log("default ",a)}}),"ontouchstart"in document.documentElement&&$("[data-navigate]").off("click, touchstart").on("click, touchstart",function(t){t.preventDefault();var a=$(this).attr("data-navigate");switch(a){case"page_reload":window.history.pushState({pageTitle:$(this).attr("title")},"",e.add_params($(this).attr("href"))),e.navigate();break;default:console.log("default ",a)}}),window.addEventListener("popstate",this.navigate),window.addEventListener("scroll",function(){index.replace_scroll()})},navigate:function(){var e=this.parse_url(window.location.pathname),t=Object.keys(e),a=t[1];"undefined"!=typeof e[a]&&(a=e[a]),$("[data-for]").removeClass("selected"),$('[data-for="'+a+'"]').addClass("selected"),$.each($("[data-for]"),function(e,t){$("#"+$(this).attr("data-for")).css("display","none")}),$("#"+a).css("display","block"),$("html, body").animate({scrollTop:0},500,"swing",function(){}),this.set_hornav()},set_hornav:function(){$(".hor_nav li.selected").length>0&&$(".hor_nav").animate({scrollLeft:$(".hor_nav li.selected").position().left+$(".hor_nav").scrollLeft()-50},500)},parse_url:function(e){for(var t=[],a=e.split("/"),s=1;s<a.length;s+=2)t.push({}),t[a[s]]=a[s+1];return t},add_params:function(e){return e},replace_scroll:function(){$(document).scrollTop();$(document).scrollTop()>300?$(".header").addClass("sticky"):$(".header").removeClass("sticky"),$(".scroll_progress").css("width",100*$(window).scrollTop()/($("body").height()-$(window).height())+"%")}};