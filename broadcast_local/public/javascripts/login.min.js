"use strict";$(function(){login.init()});var login={form:null,init:function(){this.set_listeners(),"error"===response.status&&11==response.code?$("#email").parent().addClass("invalid"):"error"===response.status&&13==response.code&&($("#email").parent().addClass("valid"),$("#password").parent().addClass("invalid"))},set_listeners:function(){this.form=new formular("#auth_form",function(e){console.log(e),$(".formular.auth").css({height:$(".displayblock").height()+140+"px"})}).init(),$("[data-action]").off("click").on("click",function(e){e.preventDefault();var t=$(this).attr("data-action");switch(t){case"page_reload":window.history.pushState({pageTitle:$(this).attr("title")},"",login.add_params($(this).attr("href"))),login.navigate();break;default:console.log("default ",t)}}),window.addEventListener("popstate",this.navigate)},navigate:function(){var e=login.parse_url(window.location.pathname);if("undefined"!=typeof e.auth)switch(e.auth){case"login":$("#account_selection").addClass("displaynone").removeClass("displayblock"),$("#account_forms").removeClass("displaynone").addClass("displayblock"),"undefined"!=typeof e.email?$("#email").val(e.email):$("#email").val("");break;case"subscribe":$("#account_selection").addClass("displaynone").removeClass("displayblock"),$("#account_forms").removeClass("displaynone").addClass("displayblock"),$("#email").val("");break;default:$("#account_selection").removeClass("displaynone").addClass("displayblock"),$("#account_forms").addClass("displaynone").removeClass("displayblock")}else $("#account_selection").removeClass("displaynone").addClass("displayblock"),$("#account_forms").addClass("displaynone").removeClass("displayblock");$(".formular.auth").css({height:$(".displayblock").height()+140+"px"})},add_params:function(e){return"undefined"!=typeof uri_params.from&&(e+="/from/"+uri_params.from),"undefined"!=typeof uri_params.device_uid&&(e+="/device_uid/"+uri_params.device_uid),e},parse_url:function(e){for(var t=[],a=e.split("/"),s=1;s<a.length;s+=2)t.push({}),t[a[s]]=a[s+1];return t}};